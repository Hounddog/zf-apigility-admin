<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <base href="/" />
    <script type="text/javascript" src="zf-apigility/js/jquery.min.js"></script>
    <script type="text/javascript" src="zf-apigility/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="zf-apigility-admin/js/vendor/angular.js"></script>
    <script type="text/javascript" src="zf-apigility-admin/js/directives/ag-collapse.js"></script>
    <link rel="stylesheet" type="text/css" href="zf-apigility/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="zf-apigility/css/main.css" />
    <link rel="stylesheet" type="text/css" href="zf-apigility-admin/css/main.css" />
    <link rel="stylesheet" type="text/css" href="zf-apigility-admin/css/bootstrap-glyphicons.css" />
</head>
<body ng-app="ag">
<div ng-controller="TestController" class="ag panel-group tooltip-api">
    <collapse ng-repeat="panel in panels" conditionals="{deleteDbAdapter: false, editDbAdapter: false}">
        <collapse-header>
            <h4 class="panel-title">
                <span class="btn btn-sm glyphicon glyphicon-book"></span>
                {{ panel.title }}

                <collapse-button criteria="{deleteDbAdapter: false}">
                    <button collapse-flag flags="{deleteDbAdapter: true}" class="btn btn-sm btn-danger" title="Remove adapter">
                        <span class="glyphicon glyphicon-trash"></span>
                    </button>
                </collapse-button>

                <collapse-button criteria="{deleteDbAdapter: false, editDbAdapter: false}">
                    <button 
                        collapse-flag
                        flags="{editDbAdapter: true}"
                        class="btn btn-sm btn-primary btn-right"
                        title="Edit adapter">
                        Edit
                    </button>
                </collapse-button>

                <collapse-button criteria="{deleteDbAdapter: false, editDbAdapter: true}">
                    <a collapse-flag flags="{editDbAdapter: false}" class="btn btn-sm btn-right" title="Cancel">
                        Cancel
                    </a>
                </collapse-button>

                <div collapse-show criteria="{deleteDbAdapter: true}" class="panel panel-danger hide">
                    <div class="panel-heading">Remove DB Adapter</div>
                    <div class="panel-body">
                        <form ng-submit="removeDbAdapter(dbAdapter.adapter_name)">
                            <p>Are you sure you want to delete the Adapter</p>
                            <button type="submit" class="btn btn-sm btn-danger pull-right">Yes</button>
                            <a collapse-flag flags="{deleteDbAdapter: false}" data-expand="true" class="pull-right btn btn-sm">Cancel</a>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </h4>
            <div class="clearfix"></div>
        </collapse-header>

        <collapse-body>
            <div collapse-show criteria="{editDbAdapter: false}">
                This is the <b>content</b>!
            </div>

            <div collapse-show criteria="{editDbAdapter: true}" class="hide">
                This is the <b>edit form</b>!

                <a collapse-flag flags="{editDbAdapter: false}" class="btn btn-sm pull-right">Cancel</a>
            </div>
        </collapse-body>
    </collapse>
</div>

    <script type="text/javascript" src="zf-apigility-admin/js/test-collapse.js"></script>
</body>
</html>
