<ng-include src="'zf-apigility-admin/partials/api/version.html'"></ng-include>

<h2>Authorization</h2>

<p>A check means authorization is required.</p>

<table class="table table-bordered table-striped table-responsive ag">
    <thead>
        <tr>
            <th>Controller Service Name</th>
            <th class="text-center">GET    <br><input type="checkbox" ng-click="updateColumn($event, 'GET')"    ng-disabled="!editable"></th>
            <th class="text-center">POST   <br><input type="checkbox" ng-click="updateColumn($event, 'POST')"   ng-disabled="!editable"></th>
            <th class="text-center">PATCH  <br><input type="checkbox" ng-click="updateColumn($event, 'PATCH')"  ng-disabled="!editable"></th>
            <th class="text-center">PUT    <br><input type="checkbox" ng-click="updateColumn($event, 'PUT')"    ng-disabled="!editable"></th>
            <th class="text-center">DELETE <br><input type="checkbox" ng-click="updateColumn($event, 'DELETE')" ng-disabled="!editable"></th>
            <th class="text-center"><button class="btn btn-default btn-small" ng-click="saveAuthorization()" ng-disabled="!editable" ng-show="showTopSaveButton()">Save</button></th>
        </tr>
    </thead>

    <tbody>
        <tr ng-repeat="(name, data) in apiAuthorizations">
            <td>{{name | servicename}} </td>
            <td class="text-center"><input type="checkbox" ng-model="apiAuthorizations[name].GET"    ng-disabled="!editable"></td>
            <td class="text-center"><input type="checkbox" ng-model="apiAuthorizations[name].POST"   ng-disabled="!editable"></td>
            <td class="text-center"><input type="checkbox" ng-model="apiAuthorizations[name].PATCH"  ng-disabled="!editable"></td>
            <td class="text-center"><input type="checkbox" ng-model="apiAuthorizations[name].PUT"    ng-disabled="!editable"></td>
            <td class="text-center"><input type="checkbox" ng-model="apiAuthorizations[name].DELETE" ng-disabled="!editable"></td>
            <td class="text-center action"><input type="checkbox" ng-click="updateRow($event, name)"        ng-disabled="!editable"></td>
        </tr>
    </tbody>

    <tfoot>
        <tr>
            <td colspan="6"></td>
            <td class="text-center action"><button class="btn btn-default btn-small" ng-click="saveAuthorization()" ng-disabled="!editable">Save</button></td>
        </tr>
    </tfoot>
</table>
